# Example formula block for reference:
# - id: example-formula
#   title: Example Formula Title
#   categories: [category1, category2]
#   tags: [tag1, tag2]
#   variables:
#     - "$x$ description of variable x"
#     - "$y$ description of variable y"
#   equation: |
#     $$
#     x = y + 1
#     $$
#   comment: "Brief explanation of the formula."
#   examples:
#     - example-comment: "Sample input and output."
#       example-equation: |
#         $$
#         x = 2, y = 1
#         $$
#
# Categories and tags help organize formulas for easy searching.
# Available categories:
# - basic math
# - margin
# - pricing
# - shop math
# - tooling
# - cost savings

# Available tags:
# - percentage
# - change
# - comparison
# - increase
# - growth
# - price
# - cost
# - margin
# - selling price
# - profit
# - discount
# - list price
# - distributor
# - customer
# - insert
# - usage
# - tool
# - manufacturing

# Percentage change formula
- id: percentage-change
  title: Percentage Change
  categories: [basic math]
  tags: [price, cost, change]
  equation: |
    $$
    \text{Percentage Change} = \frac{P_1 - P_0}{|P_0|} \times 100\%
    $$
  variables:
    $P_0$: original value (non-zero)
    $P_1$: new value
  comment: "Percentage change measures how much a quantity has increased or \
            decreased relative to its original value, expressed as a percentage. \
            It quantifies the proportional difference between an initial value \
            and a new value, providing a normalized way to compare changes across \
            different scales."
  examples:
    - example-comment: "Original Value = 50, New Value = 75 → Percentage Change = 50%"
      example-equation: |
        $$
        \text{Percentage Change} = \frac{75 - 50}{|50|} \times 100\% = \frac{25}{50} \times 100\% = 50\%
        $$
    - example-comment: "Original Value = 80, New Value = 60 → Percentage Change = -25%"
      example-equation: |
        $$
        \text{Percentage Change} = \frac{60 - 80}{|80|} \times 100\% = \frac{-20}{80} \times 100\% = -25\%
        $$

# Percentage difference formula
- id: percentage-difference
  title: Percentage Difference
  categories: [basic math]
  tags: [price, cost, comparison]
  equation: |
    $$
    \text{Percentage Difference} = \frac{|P_1 - P_0|}{\frac{|P_0| + |P_1|}{2}} \times 100\%
    $$
  variables:
    $P_0$: first value (non-zero)
    $P_1$: second value (non-zero)
  comment: "Percentage difference quantifies the relative difference between two values, \
            regardless of their order. It is useful for comparing the magnitude of change \
            between two quantities, providing a normalized measure of how different they are \
            relative to their average."
  examples:
    - example-comment: "Value 1 = 50, Value 2 = 75 → Percentage Difference = 40%"
      example-equation: |
        $$
        \text{Percentage Difference} = \frac{|75 - 50|}{\frac{|50| + |75|}{2}} \times 100\% = \frac{25}{62.5} \times 100\% = 40\%
        $$
    - example-comment: "Value 1 = 80, Value 2 = 60 → Percentage Difference = 28.57%"
      example-equation: |
        $$
        \text{Percentage Difference} = \frac{|60 - 80|}{\frac{|80| + |60|}{2}} \times 100\% = \frac{20}{70} \times 100\% \approx 28.57\%
        $$

# Gross profit formula
- id: gross-profit
  title: Gross Profit
  categories: [basic math, margin, pricing]
  tags: [price, cost, profit]
  equation: |
    $$
    \text{Gross Profit} = \text{Sales Price} - \text{Cost of Goods Sold}
    $$
  comment: "Gross profit is the financial gain obtained when the selling price exceeds the cost. \
            It represents the amount of money earned after cost."
  examples:
    - example-comment: "Selling Price = $150, Cost = $100 → Gross Profit = $50"
      example-equation: |
        $$
        \text{Gross Profit} = 150 - 100 = 50
        $$

# Sales price given cost and margin
- id: sales-price-given-cost-and-margin
  title: Sales Price given Cost and Margin
  categories: [margin, pricing]
  tags: [profit, cost, margin]
  equation: |
    $$
    \text{Sales Price} = \frac{\text{Cost}}{1 - \text{Margin}}
    $$
  comment: "Margin is expressed as a decimal (e.g., 30% → 0.30). This formula grosses up cost to the selling price, ensuring the margin is preserved."
  examples:
    - example-comment: "Cost = $70, Margin = 0.30 → Sales Price = $100"
      example-equation: |
        $$
        \text{Sales Price} = \frac{70}{1 - 0.30} = \frac{70}{0.70} = 100
        $$

# Item cost given price and margin
- id: cost-given-price-and-margin
  title: Cost given Price and Margin
  categories: [margin, pricing]
  tags: [profit, cost, margin]
  equation: |
    $$
    \text{Cost} = \text{Sales Price} \times (1 - \text{Margin})
    $$
  comment: "Rearranging the price formula allows cost to be derived from price and margin.  "
  examples:
    - example-comment: "Price = $100, Margin = 0.30  → Cost = $70"
      example-equation: |
        $$
        \text{Cost} = 100 \times (1 - 0.30) = 100 \times 0.70 = 70
        $$  

# Margin given selling price and cost
- id: margin-given-price-and-cost
  title: Margin given Price and Cost
  categories: [margin, pricing]
  tags: [profit, cost, margin]
  equation: |
    $$
    \text{Margin} = 
    \frac{\text{Sales Price} - \text{Cost of Goods Sold}}{\text{Sales Price}} \times 100\%
    $$
  comment: "Calculates the profit margin based on the selling price and cost of \ 
            goods sold. Margin is expressed as a percentage."
  examples:
    - example-comment: |
        - List Price = $100  
        - Distributor Discount = 40% → Distributor Price = $60  
        - Customer Discount = 20% → Customer Price = $80 
      example-equation: |
        $$
        \text{Distributor Margin} = \frac{80 - 60}{80} = 0.25 \; (25\%)
        $$

# Insert Usage per part
- id: insert-usage-per-part
  title: Insert Usage per Part
  categories: [shop math, tooling, cost savings]
  tags: [insert, usage, tool, manufacturing]
  variables: 
    $I_p$: inserts used per part (expected, real-valued)
    $z$: number of teeth (inserts mounted in cutter body)
    $z_i$: number of usable edges per insert
    $T$: tool life (parts per insert change)
  equation: 
    $$
    I_p \;=\; \frac{\dfrac{z}{z_i}}{T} \;=\; \frac{z}{z_i\,T}
    $$
  comment: Dividing inserts by inserts by time (NEED TO REVIEW)
  examples:
    - example-comment: |
        - $I_p$ = inserts used per part (expected, real-valued)  
        - $z$ = number of teeth (inserts mounted in cutter body)  
        - $z_i$ = number of usable edges per insert  
        - $T$ = tool life (parts per insert change)                      
        This formula calculates the expected number of inserts used per part based on tool geometry and life.  
      example-equation: |
        Variables
        $$
        \text{Inserts\_needed}(N) = \left\lceil \frac{z}{z_i} \cdot \frac{N}{T} \right\rceil
        $$                  
        
        $$
        \begin{aligned}
        z &= 6,\quad z_i = 2,\quad T = 100 \\
        I_p &= \frac{6}{2\cdot 100} = 0.03\ \text{inserts/part} \\
        \text{Inserts\_consumed}(1000) &= 0.03 \times 1000 = 30 \\
        \text{Inserts\_needed}(1000) &= \left\lceil 30 \right\rceil = 30
        \end{aligned}
        $$